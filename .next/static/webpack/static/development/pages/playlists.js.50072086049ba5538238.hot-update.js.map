{"version":3,"file":"static/webpack/static/development/pages/playlists.js.50072086049ba5538238.hot-update.js","sources":["webpack:///./pages/playlists.js"],"sourcesContent":["import Layout from '../components/MyLayout.js'\nimport React from 'react'\nimport Link from 'next/link'\nimport Router, { withRouter } from 'next/router';\nimport { ACCESS_TOKEN } from '../constants';\n\nexport default class Playlists extends React.Component {\n  static async getInitialProps({ query }) {\n\n    return {}\n  }\n\nconstructor(props) {\n  super(props);\n  this.state = {\n\n  }\n}\n\n\ncomponentDidMount (props) {\n  function getHashParams() {\n    var hashParams = {};\n\n      var e, r = /([^&;=]+)=?([^&;]*)/g,\n          q = window.location.hash.substring(1);\n      while ( e = r.exec(q)) {\n         hashParams[e[1]] = decodeURIComponent(e[2]);\n      }\n\n    return hashParams;\n  }\n\n\n  let params = getHashParams();\n  console.log({params});\n  let access_token = params.access_token\n      // state = params.state,\n      // storedState = sessionStorage.getItem(STATE_KEY);\n console.log(access_token);\n\n  if (!access_token) {\n    alert('There was an error during the authentication');\n  } else {\n    // sessionStorage.removeItem(STATE_KEY);\n    if (access_token) {\n      console.log('hiiii');\n      fetch('https://api.spotify.com/v1/me', {\n          headers: {\n            'Authorization': 'Bearer ' + access_token\n          }\n      }).then(res => res.json())\n        .then(response => console.log('Success:', JSON.stringify(response)))\n        .catch(error => console.error('Error:', error));;\n    }\n  }\n\n  // console.log(sessionStorage.getItem(ACCESS_TOKEN));\n  // if (sessionStorage.getItem(ACCESS_TOKEN) !== null) {\n  //   const access_token = sessionStorage.getItem(ACCESS_TOKEN);\n  //   console.log(typeof access_token);\n  //   fetch('https://api.spotify.com/v1/me/playlists', {\n  //       headers: {\n  //         'Authorization': 'Bearer ' + access_token\n  //       }\n  //   }).then(res => res.json())\n  //     .then(response => console.log('Success:', JSON.stringify(response)))\n  //     .catch(error => console.error('Error:', error));\n  // } else {\n  //   window.location = \"/\";\n  // }\n}\n\n  render () {\n\n    return  (\n          <Layout>\n             <p>Playlists</p>\n          </Layout>\n      )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAKA;AACA;;;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;AAEA;AAEA;AAKA;;;;AA1EA;AACA;;;;;A","sourceRoot":""}